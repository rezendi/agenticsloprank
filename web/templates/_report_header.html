{% load static %}{% load custom_filters %}
<div class="report-header">
  <div class="title-wrapper flex">
    {% if mission.extras.github %}
      <div class="repo-logo" data-repo="{{ mission.extras.github|get_first_repo }}">
      </div>
    {% endif %}
    {% if project %}
      <h1>{{ project.name }}</h1>
      <div class="button-group ml-auto">
        <a class="utility-button" target="_blank" href="/config/configure?project_id={{project.id}}"><img src="{% static 'icons/cog.svg' %}" alt="Project Settings"> Project Settings</a>
        <a class="utility-button" target="_blank" href="/config/report?project_id={{project.id}}"><img src="{% static 'icons/cog.svg' %}" alt="Report Settings"> Report Settings</a>
      </div>
    {% else %}
      <h1 id="mission-header" class="mission">{{mission.name_with_link | safe}}</h1>
    {% endif %}
  </div>
  <hr/>

  <div class="report-branding mb-2">
    <label>{{mission.created_at}} UTC</label>
    <label>This report was generated by <a target="_blank" href="https://yamllms.ai">YamLLMs</a> with {{mission.llm}}</label>
  </div>

  {% if not skip_sources and mission.sources_with_links|length > 1 %}
    <div class="sources" id="sources">
      <label class="m-0 all-caps">Sources</label>
      {% for source in mission.sources_with_links %}
        {% if source.vendor %}
          <a target="_blank" href="{{ source.link }}">
            {% if source.vendor == "github" %}
              <img src="{% static 'logos/sans-github.svg' %}" alt="GitHub Logo">
            {% elif source.vendor == "github2" %}
              <img src="{% static 'logos/sans-github.svg' %}" alt="GitHub (metadata only) Logo">
            {% elif source.vendor == "azure" %}
              <img src="{% static 'logos/sans-azure.svg' %}" alt="Azure Logo">
            {% elif source.vendor == "jira" %}
              <img src="{% static 'logos/sans-jira.svg' %}" alt="Jira Logo">
            {% elif source.vendor == "linear" %}
              <img src="{% static 'logos/sans-linear.svg' %}" alt="Linear Logo">
            {% elif source.vendor == "notion" %}
              <img src="{% static 'logos/sans-notion.svg' %}" alt="Notion Logo">
            {% elif source.vendor == "confluence" %}
              <img src="{% static 'logos/sans-confluence.svg' %}" alt="Confluence Logo">
            {% elif source.vendor == "figma" %}
              <img src="{% static 'logos/sans-figma.svg' %}" alt="Figma Logo">
            {% elif source.vendor == "slack" %}
              <img src="{% static 'logos/sans-slack.svg' %}" alt="Slack Logo">
            {% elif source.vendor == "gchat" %}
              <img src="{% static 'logos/sans-google-chat.svg' %}" alt="Google Chat Logo">
            {% elif source.vendor == "monday" %}
              <img src="{% static 'logos/monday.png' %}" alt="Monday.com Logo">
            {% elif source.vendor == "harvest" %}
              <img src="{% static 'logos/sans-harvest.svg' %}" alt="Harvest Logo">
            {% elif source.vendor == "sentry" %}
              <img src="{% static 'logos/sans-sentry.svg' %}" alt="Sentry Logo">
            {% else %}
              <span>{{ source.vendor|title }} Logo</span>
            {% endif %}
          </a>
        {% endif %}
      {% endfor %}
    </div>
  {% endif %}
  
</div>